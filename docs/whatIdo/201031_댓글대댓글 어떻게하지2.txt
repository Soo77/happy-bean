201031

오늘 할일/한일
- 댓글 대댓글 어떻게하지2...


알게 된 것
- 댓글 테이블
댓글번호,게시글번호,작성자회원번호,댓글내용,
group_id, parent_reply_id, depth, order_no

위의 4개는 나도 대강 짐작해서 썼는데 구글링을 해보니 대댓글을 쓰려면
밑에 저 네개의 컬럼이 더 필요하다는 것이다. 

내 생각엔 group_id는 원댓글의 댓글번호를 넣는것같고(대댓글에 대대댓글남겨도
원댓글의 댓글번호가 들어가는 것 같다.) (원댓은 자기 댓글번호가 들어감)

그리고 parent_reply_id는 댓글에 답글달면 그 댓글의 댓글번호, 대댓글에 대대댓글달면
대댓글의 댓글번호가 들어가는듯하다. 원댓은 0.

depth는 깊이. (원댓은 1, 원댓에 대댓글달면 2, 대댓글에 대대댓글 달면 3)

order_no는.. 말 그대로 사용자한테 보일 때 원댓 1,2,3 있다면 원댓 1에 대댓글달면
오더넘버가.. 2가 되고 나머지가 3, 4로 밀려나는것임....;;; 이걸 짤수있을까/../?
쩝
어케짜는거지? 그러면 대댓글 다는 순간 그 밑에 모든 댓글이 update 되어야되는..?
건가..?

- DAO란~
dao 약자 오늘 처음알았음. Data Access Object. 실질적으로 db에 접근하여
데이터를 조회하거나 조작하는 기능을 전담하는 객체.
dao의 사용 이유는 효율적인 커넥션 관리와 보안성 때문!

- Mapper인터페이스를 사용하는 방법
Mapper인터페이스는 개발자가 직접 작성한다.
mapper 네임스페이스는 패키지명을 포함한 인터페이스 명으로 작성한다.
SQL id는 인터페이스에 정의된 메서드명과 동일하게 작성한다



----------------------------------------------------------------------------
네이버 블로그 등 댓글을 보고 왔는데 대대댓글은없이 댓글, 대댓글만 있더라.
그러면 depth는 필요없을거같다.
그럼 대대댓글은 빼고 댓글, 대댓글만,, 구현하기로 하자!
그룹아이디도 필요없을거같은데.....

- 댓글 테이블
댓글번호,게시글번호,작성자회원번호,댓글내용, 작성일
parent_reply_id, depth, order_no, deleted

정도면 되나..?ㅎ (딜리티드 추가햇음. 네이버 댓글보니.. 삭제되면 
삭제된 댓글입니다. 하고 뜨길래)
댓글 대댓글 달렸을때 원댓 삭제하면 대댓글은 그대로 있고 삭제된댓글입니다. 하고
원댓에 뜸.
그러다가 대댓글까지 삭제되면 ajax로 삭제된댓글입니다. 라고 뜨고 새로고침하면
온데간데 아예 없어져있음.

아...이러고 보니 생각나는게있음. 다른 등록수정삭제들도 ㅠㅠ 삭제할때 완전히
삭제되는게아니라 deleted 컬럼이 있다고함 ㅠ 그래서 아예 삭제되는게 아니라
남아있는거라고..해쓴ㄴ데.......
담부터 적용하기로하고 ㅇㅇ 일단 댓글 부터 적용하기로~~!

if ($.trim($("#rememo1").val()) == "") 
-> <input type="text" name="memo" id="rememo1"><br>
id 이름으로 위에다 쓰는거임.

